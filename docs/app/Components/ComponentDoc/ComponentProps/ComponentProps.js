import _ from 'lodash'
import PropTypes from 'prop-types'
import React from 'react'
import { Table } from 'semantic-ui-react'

import ComponentPropsHeader from './ComponentPropsHeader'
import ComponentPropsRow from './ComponentPropsRow'

/**
 * Displays a table of a Component's PropTypes.
 */
const ComponentProps = ({ props: propsDefinition }) => (
  <Table compact='very' basic='very'>
    <ComponentPropsHeader />
    <Table.Body>
      {_.map(propsDefinition, item => <ComponentPropsRow {...item} key={item.name} />)}
    </Table.Body>
  </Table>
)

ComponentProps.propTypes = {
  /**
   * A single Component's prop info as generated by react-docgen.
   * @type {object} Props info object where keys are prop names and values are prop definitions.
   */
  props: PropTypes.object,
  /**
   * A single Component's meta info.
   * @type {object} Meta info object where enum prop values are defined.
   */
  meta: PropTypes.object,
}

export default ComponentProps
